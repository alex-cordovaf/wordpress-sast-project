=== Headless eCommerce API for Developers - CoCart ===
Contributors: cocartforwc, sebd86
Tags: woocommerce, rest-api, decoupled, headless, cart
Requires at least: 6.3
Requires PHP: 7.4
Tested up to: 6.8
Stable tag: 4.7.0
WC requires at least: 9.0
WC tested up to: 10.0
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

A developer-first REST API to decouple WooCommerce on the frontend. Fast, secure, customizable, easy.

== Description ==

**CoCart: Headless WooCommerce API for Developers**

[CoCart](https://cocartapi.com/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) gives you a developer-first REST API to decouple WooCommerce on the frontend. Build modern storefronts with full control over auth, sessions, cart and product flows.

#### Why developers choose CoCart

* ‚úÖ **Source of truth** - Built on WooCommerce Data Stores and mirrors most WooCommerce hooks, ensuring broad compatibility from the start.
* üîê **Session management** - Lightweight, cookie‚Äëless session keys stored in the database. Concurrency-safe.
* üîë **Flexible authentication** - Log in via email, username, or phone. No admin API keys required.
  - Optional JWT via official add‚Äëon.
* üåç **CORS control** - First‚Äëparty CORS so cross‚Äëdomain frontends ‚Äújust work‚Äù.
* üõí **Real‚Äëtime cart management** - Validate items/coupons, calculate totals in a single call.
* üîé **Product search** - Query by name, SKU, or ID ‚Äî authenticated or not ‚Äî with flexible filters.
* üß© **Extendable Callbacks** - Add your own logic with custom callbacks. No new endpoints needed.
* üõ† **Works with Woo Checkout** - Load any cart session into WooCommerce‚Äôs native checkout.
* üí∏ **Name Your Price** - Support donation-based pricing with built-in flexibility.
* üì¶ **Bulk Cart Requests** - Combine multiple API calls into one for better performance.

[Try the REST API](https://cocartapi.com/try-free-demo/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink)

‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
> An excellent plugin, which makes building a headless WooCommerce experience a breeze. Easy to use, nearly zero setup time. - [Harald Schneider](https://wordpress.org/support/topic/excellent-plugin-8062/)

## üíº Upgrade to CoCart Plus

Need enterprise‚Äëgrade control and performance? Upgrade to **[CoCart Plus](https://cocartapi.com/pricing/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink)** to unlock advanced cart, shipping, and operational tooling.

**Unlock features like:**

* üé´ **Coupon Management** - Reward customers and boost conversions.
* üö¢ **Shipping Options & Rate Calculation** - Let customers choose from your available shipping methods.
* üí∞ **Cart Fees** - Add custom fees for any purpose (handling, rush, etc.).
* ü•™ **Advanced Batch API** - Handle multiple cart actions in a single request.
* üïí **Rate Limiting** - Prevent abuse and maintain high performance with granular API control.
* üìä **Cart Insights** - Monitor all cart sessions, including those nearing expiration or already expired.

## üîì Ready to Go Fully Headless?

Join **thousands of developers and agencies** building with CoCart ‚Äî the REST API that takes WooCommerce further.

üëâ [Upgrade to CoCart Plus](https://cocartapi.com/pricing/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) and build the future of eCommerce today.

‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
> This plugin saved me tons of work and it is working amazingly! The plugin author provides fast and high-quality support. Well done! [@codenroll](https://wordpress.org/support/topic/great-plugin-with-a-great-support-7/)

### üíú Need Support?

We aim to provide regular support for the CoCart plugin via [our Discord community server](https://cocartapi.com/community/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink). Please understand that we do prioritize support for our [paying customers](https://cocartapi.com/pricing/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink).

## üß∞ Developer Tools

* **[CoCart Beta Tester](https://github.com/cocart-headless/cocart-beta-tester)** allows you to easily update to pre-release versions of CoCart for testing and development purposes.
* **[CoCart VSCode](https://github.com/cocart-headless/cocart-vscode)** extension for Visual Studio Code adds snippets and autocompletion of functions, classes, and hooks.
* **[CoCart Product Support Boilerplate](https://github.com/cocart-headless/cocart-product-support-boilerplate)** provides a basic boilerplate for supporting different product types to add to the cart with validation including adding your own parameters.
* **[CoCart Cart Callback Example](https://github.com/cocart-headless/cocart-cart-callback-example)** provides you an example of registering a callback that can be triggered when updating the cart.

## üì¢ Testimonials - Developers just love it

‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
> Thanks for doing such great work with this! Works exactly as expected and CoCart seems to have a nice community around it. The founder seems really devoted and that‚Äôs one of the key things for a plugin like this to live on and get the right updates in the future. We just got ourselves the lifetime subscription. - [Mighty Group Agency](https://wordpress.org/support/topic/awesome-plugin-4681/)

‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
> This plugin works great out of the box for adding products to the cart via API. The code is solid and functionality is as expected, thanks Sebastien! - [Scott Bolinger, Creator of Holler Box](https://wordpress.org/support/topic/works-great-out-of-the-box-16/)

[See the wall of love](https://cocartapi.com/wall-of-love/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) for more testimonials.

#### üëç Add-ons to further enhance CoCart

We also have add-ons that extend CoCart to enhance your development and your customers‚Äô shopping experience.

* **[CoCart - CORS](https://wordpress.org/plugins/cocart-cors/)** enables support for CORS to allow CoCart to work across multiple domains.
* **[CoCart - Rate Limiting](https://wordpress.org/plugins/cocart-rate-limiting)** enables the rate limiting feature for CoCart Plus or higher.
* **[CoCart - JWT Authentication](https://wordpress.org/plugins/cocart-jwt-authentication)** allows you to authenticate via a simple JWT Token.
* **[CoCart - Cart Enhanced](https://wordpress.org/plugins/cocart-get-cart-enhanced)** enhances the data returned for the cart and the items added to it.
* and more add-ons in development.

These add-ons work with the core of CoCart already, and these add-ons of course come with support too.

### ‚å®Ô∏è Join our growing community

On Discord, we have a community of developers, WordPress agencies, and shop owners building the fastest and best headless WooCommerce stores with CoCart.

Come and [join our community](https://cocartapi.com/community/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink)

### Built with developers in mind

If you‚Äôre interested to jump in the project, there are opportunities for developers at all levels to get involved. [Contribute to CoCart on the GitHub repository](https://github.com/co-cart/co-cart/blob/trunk/.github/CONTRIBUTING.md) and join the party. üéâ

### üêû Bug reports

Bug reports for CoCart are welcomed in the [CoCart repository on GitHub](https://github.com/co-cart/co-cart). Please note that GitHub is not a support forum, and that issues that aren‚Äôt properly qualified as bugs will be closed.

### More information

* The official [CoCart API plugin](https://cocartapi.com/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) website.
* [CoCart API Reference](https://cocartapi.com/docs/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink)
* [Subscribe to updates](http://eepurl.com/dKIYXE)
* Like, Follow and Star on [Facebook](https://www.facebook.com/cocartforwc/), [Twitter](https://twitter.com/cocartapi), [Instagram](https://www.instagram.com/cocartheadless/) and [GitHub](https://github.com/co-cart/co-cart)

#### üíØ Credits

This plugin is developed and maintained by [S√©bastien Dumont](https://twitter.com/sebd86).
Founder of [CoCart Headless, LLC](https://twitter.com/cocartheadless).

== Installation ==

= Minimum Requirements =

* WordPress v6.3
* WooCommerce v7.0
* PHP v7.4

= Recommended Requirements =

* WordPress v6.3 or higher.
* WooCommerce v9.0 or higher.
* PHP v8.0 or higher.

= Automatic installation =

Automatic installation is the easiest option as WordPress handles the file transfers itself and you don‚Äôt need to leave your web browser. To do an automatic install of CoCart, log in to your WordPress dashboard, navigate to the Plugins menu and click Add New.

In the search field type "CoCart" and click Search Plugins. Once you‚Äôve found the plugin you can view details about it such as the point release, rating, and description. Most importantly of course, you can install it by simply clicking "Install Now".

= Manual installation =

The manual installation method involves downloading the plugin and uploading it to your web server via your favorite FTP application. The WordPress codex contains [instructions on how to do this here](https://codex.wordpress.org/Managing_Plugins#Manual_Plugin_Installation).

= Upgrading =

It is recommended that anytime you want to update CoCart that you get familiar with what's changed in the release.

CoCart publishes [release notes via the changelog](https://wordpress.org/plugins/cart-rest-api-for-woocommerce/#developers).

CoCart uses Semver practices. The summary of Semver versioning is as follows:

- *MAJOR* version when you make incompatible API changes.
- *MINOR* version when you add functionality in a backwards compatible manner.
- *PATCH* version when you make backwards compatible bug fixes.

You can read more about the details of Semver at [semver.org](https://semver.org/)

== Frequently Asked Questions ==

= What does CoCart do? =

CoCart provides a REST API that is ready to decouple WooCommerce away from WordPress.

= Who should use CoCart? =

Pretty much everyone who wants a faster eCommerce store to improve their business. WooCommerce runs multiple requests for multiple steps. We avoid the hassle of needing multiple requests for these steps and process them all together.

CoCart is perfect for eCommerce owners and developers who want to create an eCommerce app for mobile or a custom frontend shopping experience completely using the REST API.

= Are there any limitations? =

CoCart is designed with developers in mind allowing for complete control to customize or add support for a plugin to work with CoCart. CoCart does its best to work out of the box but if there is a compatibility issue with a plugin that you would like to work with CoCart. We would be happy to hear about it.

= What is the source of truth? =

CoCart sources the WooCommerce‚Äôs Data Stores API and repeats most WooCommerce hooks to provide a wider array of support for most WooCommerce extensions out of the box.

= Does CoCart work for multi-site network? =

Yes. Just install CoCart and activate it on the sites you want to use CoCart.

= Can I have WordPress running on one domain and my headless eCommerce on another domain? =

Absolutely. That is what CoCart is mainly developed for. You just need to enable CORS. You can do that easily with [the CORS add-on](https://wordpress.org/plugins/cocart-cors/) or you can manually enable it via the filters available [in the documentation](https://cocartapi.com/docs/#filters-api-access-cors-allow-all-cross-origin-headers).

= Will CoCart interfere with other plugins? =

The majority of plugins are not REST API specific so it shouldn't. However, while we allow the source of truth for compatibility, there may be a WooCommerce extension that returns data via an action hook that the REST API cannot understand during a specific action and may fail the response.

If that does happen, simply report the situation with as much detail as possible on our [GitHub repository](https://github.com/co-cart/co-cart/issues) and we will try our best to find a solution.

= How do I set up CoCart? =

You will first need WooCommerce installed and set up to your configurations. Then install CoCart, activate and you're ready to start using the REST API following the API Reference provided.

> Please check the requirements listed in the [installation](https://wordpress.org/plugins/cart-rest-api-for-woocommerce/#installation) section.

= Why use CoCart if the WooCommerce API already exists? =

The WooCommerce REST API is primarily for store management (orders, products, coupons, etc.) and is designed for authenticated admins/apps. It isn‚Äôt built for customer cart flows.

CoCart fills this gap. It's specifically built for frontend cart handling where you want a seamless shopping experience that mimics traditional WooCommerce behavior but via API.

It‚Äôs optimized, extendable, and built for performance in decoupled setups.

= Why use CoCart and not WooCommerce‚Äôs Store API? =

To better answer this question in detail, please read [our comparison article](https://cocartapi.com/cocart-vs-woocommerces-store-api/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink).

= Can we support SSO? =

CoCart itself doesn‚Äôt use cookie-based authentication ‚Äî it supports Basic and JWT Authentication (via add-on), which are stateless and frontend-friendly. So when a user logs in through your headless site/app, they're authenticated for API requests ‚Äî including cart operations.

= Can we call other WP APIs alongside CoCart? =

Definitely. CoCart doesn't block or replace any part of the WP or WC APIs ‚Äî it works alongside them. Once authenticated, your headless site/app can access any available endpoint, whether from CoCart, WooCommerce, or custom APIs you've built.

= Do I need to have coding skills to use CoCart? =

As this plugin provides an REST API built for developers, you will need to have some coding knowledge to use it.

= Where can I find documentation for CoCart? =

You can find the documentation [here](https://cocartapi.com/docs/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink).

= Can I change the formatting of values, add and change details to the responses? =

You certainly can. There are over 200+ filters available to customize to your needs.

= Why does CoCart use a custom session handler and table in the database? =

If you're familiar with WooCommerce, you may be wondering why using a custom session handler at all instead of the WooCommerce default session handler? A number of reasons but the ones that really matter are.

- The default session handler only supports cookies.
- The default session handler only saves changes at the end of the request in the `shutdown` hook.
- The default session handler has no support for concurrent requests.
- The default session handler **does not support guest customers**.
- The default session handler **does not store additional data that may be required to help you**.
- The default session handler **does not allow support for POS capability**.
- More consistent with modern web.

= Is "WooCommerce Shipping and Tax" plugin supported? =

No. "WooCommerce Shipping and Tax" ignores any custom REST APIs from allowing the ability to calculate the taxes from TaxJar except for WooCommerce Blocks and JetPack. We don't recommend it. However, [TaxJar for WooCommerce](https://wordpress.org/plugins/taxjar-simplified-taxes-for-woocommerce/) plugin is supported.

= Is "TaxJar for WooCommerce" plugin supported? =

If you have "[TaxJar for WooCommerce](https://wordpress.org/plugins/taxjar-simplified-taxes-for-woocommerce/)" v3.2.5 or above and CoCart v3.0 or above installed... then yes, it is supported.

= Can I use any modern stack? =

Yes, you can use your preferred tools and favorite modern technologies like [Astro](https://astro.build/), [NextJS](https://nextjs.org/), [React](https://reactjs.org/), [Vue](https://vuejs.org/), [Ember](https://emberjs.com/) and more giving you endless flexibility and customization.

= Where can I report bugs? =

Report bugs on the [CoCart GitHub repository](https://github.com/co-cart/co-cart/issues). You can also notify us via the [Discord community server](https://cocartapi.com/community/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) in the #bug-report channel ‚Äì be sure to search the forum to confirm that the error has not already been reported.

= CoCart is awesome! Can I contribute? =

Yes, you can! Join in on our [GitHub repository](https://github.com/co-cart/co-cart/blob/trunk/.github/CONTRIBUTING.md) and follow the [development blog](https://cocart.dev/news/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) to stay up-to-date with everything happening in the project.

= Is CoCart translatable? =

Yes! CoCart is deployed with full translation and localization support via the ‚Äòcart-rest-api-for-woocommerce‚Äô text-domain.

= Where can I get help or talk other users about CoCart core? =

If you get stuck, you can ask for help in the [CoCart support forum](https://wordpress.org/support/plugin/cart-rest-api-for-woocommerce/) or [join the CoCart Community on Discord](https://cocartapi.com/community/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) where you will find like minded developers who help each other out. If you are in need of priority support, it will be provided by purchasing [CoCart Plus](https://cocartapi.com/pricing/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) or a higher tier.

= Where can I find out more about the additional features? =

Find out all relevant [features and pricing information over on the official site](https://cocartapi.com/pricing/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink).

= My question is not listed here. Where can I find more answers? =

Check out [Frequently Asked Questions](https://cocartapi.com/faq/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) for more.

== Contributors & Developers ==

You can help [translate "CoCart" into your language](https://translate.wordpress.org/projects/wp-plugins/cart-rest-api-for-woocommerce).

**INTERESTED IN DEVELOPMENT?**

[Browse the code on GitHub](https://github.com/co-cart/co-cart/tree/development/), or follow the [CoCart development blog](https://cocart.dev/news/?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink) for the latest development updates. You can also follow [@cocartapi](https://twitter.com/cocartapi) on Twitter to stay up to date about everything happening with CoCart.

**Please share your experience**

We‚Äôd love to hear what you have to say. [Share your experience](https://testimonial.to/cocart) and help others discover CoCart. It helps to keep the plugin going strong, and is greatly appreciated.

== Changelog ==

üì¢ Only bug and security updates will be provided here on WordPress dot ORG. Any new major updates starting with v5.0 will be provided [directly from us](https://cocartapi.com?utm_medium=website&utm_source=wpplugindirectory&utm_campaign=readme&utm_content=readmelink).

Also, to avoid getting the plugin removed from the WordPress directory, the trademark word "WooCommerce" as been removed as part of the plugin title.

**Before**: Headless WooCommerce Made Easy with CoCart
**Now**: Headless eCommerce API for Developers - CoCart

In your WordPress dashboard under "Plugins", you will see it labeled as "CoCart API - Headless eCommerce API for Developers", before "CoCart API - Headless WooCommerce Made Easy".

= v4.7.0 - 8th August, 2025 =

### What's New?

* Authentication: Added support for authenticating via JSON request body with clear indication for the login endpoint (API v2 ONLY).

### Improvements

* Authentication: Internal refactor to return `WP_Error` consistently from permission checks.
* REST API: Login (API v2 ONLY) Explicit added query params for `username` and `password`.

= v4.6.4 - 6th August, 2025 =

### Bug Fixes

* REST API: Fixes both the product review and rating count.
* Feature: Fixed "Load Cart from Session" from destroying sessions once loaded due to session improvements made in WC v10.

### Improvements

* Plugin: Ensure that dependent plugins can be installed/activated if the plugin is installed in a different folder name.
* Feature: "Load Cart from Session" improved session data checking.
* Session handler: Reduced duplicate session calls and optimized `update_session_timestamp()` database query.
* Session handler: Restored `persistent_cart_update` compatibility for WooCommerce v10; only active for versions lower than v10.1.
* Session handler: Overrode `session_exists()` and `delete_session()` to use CoCart's session table.
* Load Cart: Switched from `$_REQUEST` to `$_GET` and removed the priority for `load_cart_action`.
* Load Cart: Re-enabled `initialize_cart_session()` and stopped destroying cookies when loading carts.

### Deprecated

* Action hook `cocart_load_cart_override` is no longer used.

= v4.6.3 - 27th July, 2025 =

### Bug Fix

* REST API: Fixes identifying namespace and routes in the WordPress REST API Index if not set should they already be filtered out.

= v4.6.2 - 25th July, 2025 =

### Bug Fix

* REST API: Removing an item stays removed. [Solves issue #534](https://github.com/co-cart/co-cart/issues/534)

> WooCommerce v10 caused a cache issue due to a change in the many times session data is handled.

### Improvements

* Plugin: Session handler optimized - New sessions created first, then auth users if no cart requested.
* Plugin: Session handler - Removed the need to set cart hash at the start.
* Plugin: Session handler - Added a warning log for when the session data must have really screwed up.
* Plugin: Session handler - Added max expiration exceed limit to 30 days to avoid performance issues and the session table growing too large.
* REST API: Check REST request is CoCart before maybe loading cart or filtering served requests.
* REST API: Fixed deprecated functions still called in Products API.
* REST API: Authentication and CORS optimized to parse data less allowing for a faster response.
* REST API: Moved global headers to be filtered in `rest_pre_serve_request` instead of `CoCart_Response` which is not used for Products API.
* Plugin: Moved the cart cache to load once WooCommerce has loaded instead of only during the REST API.

> Developer note: Cart cache allows for items with custom pricing to be calculated on the native site and not just via the REST API to keep consistent with calculations.

### Requirements

* WooCommerce v9 minimum is now required for CoCart but for best performance recommend using v10+

### Compatibility

* Tested with WooCommerce v10.0.4

= v4.6.1 - 21st July, 2025 =

### Bug Fixes

* REST API: Fixed `undefined array key` errors with cart session when cart is empty. [Solves Issue #533](https://github.com/co-cart/co-cart/issues/533)
* REST API: Fixed removing an item using the update endpoint when it thinks quantity value is not numeric.

### Compatibility

* Tested with WooCommerce v10.0.3

= v4.6.0 - 26th June, 2025 =

This release is a compatibility release for the next WooCommerce release.

### What's new?

* WordPress dot ORG: Added a Playground blueprint.

### Changes

* Plugin: Branding for CoCart has been updated.
* Plugin: Styling for CoCart pages have been improved and more consistent on all pages by reducing conflicts with WordPress and WooCommerce styling.

### Improvements

* REST API: Basic authentication is detected much better.
* REST API: Authentication failures now has debug logs.
* WordPress Dashboard: Semantic markup overhaul for better screen reader interpretation.
* WordPress Dashboard: Setup wizard and Support pages have been updated.

### Compatibility

* Tested with WooCommerce v10.0

= v4.5.0 - 31st May, 2025 =

This release will most likely be the last update released on the WordPress plugin directory with anything NEW added.

### What's New?

* REST API: Products can now be filtered to return only products by brand names.

### Bug Fix

* REST API: Added missing option for allowing to order products by random. [Solves issue #516](https://github.com/co-cart/co-cart/issues/516)

### Plugin Details

* Plugin: Updated links for documentation.
* WordPress Dashboard: Updated link for upgrade page.
* WordPress Dashboard: Plugin action links are added after now, not before.

### Compatibility

* Tested with WooCommerce v9.9

= v4.4.0 - 16th May, 2025 =

This release focuses on supporting such tools like ManageWP, MainWP, Blogvault etc.

### Changes

* WordPress Dashboard: Database updates now run automatically if needed. [Resolves issue #511](https://github.com/co-cart/co-cart/issues/511)
* WordPress Dashboard: Sessions now transfer automatically for new installs.
* Session: Cart session expiration's are now matching the default expiration WooCommerce set for better compatibility and abandoned cart support.
* Session: Cart session expiration for logged in users renew daily and expire in a week. This is to keep carts persistent for logged in users.

> Note: The session expiration's can still be filtered back to the previous values but that would mean it would match the expiration for logged in users.

### Third Party Support

* Plugin: LiteSpeed Cache will now exclude CoCart from being cached. [Commit](https://github.com/co-cart/co-cart/commit/683b4d31b940862b463e2e1a45c8c3c9908a5f47)

### Developers

* Filter `cocart_cart_expiring` added parameter `is_user_logged_in()` to allow the expiration for logged in users to be filtered.
* Filter `cocart_cart_expiration` added parameter `is_user_logged_in()` to allow the expiration for logged in users to be filtered.

### Internal

* Improved the logger. [Commit](https://github.com/co-cart/co-cart/commit/32ee652ababfe94a501ff6fd84bff1829c140bf8)
* Added logs for database update procedure. [Commit](https://github.com/co-cart/co-cart/commit/4bb641005ad01fab405e5ba0200407631e06115c)

### Deprecations

* Filter `cocart_log_entry_name` no longer used.
* Filter `cocart_log_entry_version` no longer used.
* Filter `cocart_log_entry_source` no longer used.
* Filter `cocart_setup_wizard_store_save_next_step_override` no longer used.

= v4.3.30 - 27th April, 2025 =

### Bug Fix

* WordPress Dashboard: Fix plugin update warning for core plugin. [Solves issue #506](https://github.com/co-cart/co-cart/issues/506)

### Improvement

* REST API: Variation attribute data is now sanitized. Labels are converted to names (e.g. Size to pa_size), and values are cleaned.

### Compatibility

* Tested with WordPress v6.8

= v4.3.29 - 10th April, 2025 =

### Bug Fix

* REST API: Package details would not return but showed fine in shipping meta.

### Improvements

* REST API: Optimized fetching the cart in all Cart API endpoints.
* REST API: Shipping now fully respects the shipping settings.

> Dev note: Meaning if you have requested that the customer provides the shipping address first before shipping is calculated, then no shipping methods will return until it's provided.

### Compatibility

* Tested with WooCommerce v9.8

= v4.3.28 - 6th April, 2025 =

### Bug Fix

* REST API: Fixed unidentified item key when adding grouped products.

= v4.3.27 - 3rd April, 2025 =

### Bug Fix

* REST API: Undone a change to fix any WooCommerce cookies from setting with the Cart API. Related to fixing persistent cart back in November last year.

= v4.3.26 - 1st April, 2025 =

### Bug Fix

* REST API: Fixed critical error when adding an item and asking to return the item details. [Solves issue #509](https://github.com/co-cart/co-cart/issues/509)

### Improvements

* REST API: Corrected and added missing schema information for Cart API v1.
* WordPress Dashboard: Tweaked plugin screen modal for listing untested plugins.

### Requirement change

* WordPress 6.3 is the new minimum version required.

= v4.3.25 - 17th March, 2025 =

### Bug Fixes

* Plugin: Failed to activate fully when network activated due to how admin notices where set. - [Bug Report](https://wordpress.org/support/topic/critical-error-upon-activate/)
* WordPress Dashboard: Plugin suggestions was not letting you press the "Install Now" button.

= v4.3.24 - 10th March, 2025 =

### Bug Fix

* Fixed a few typo's in the session handler.

### Improvements

* WordPress Dashboard: Improved detection of a suggested plugin hosted on WordPress dot ORG and from a third party.
* WP-CLI: Update command now asks for confirmation before proceeding.

= v4.3.23 - 3rd March, 2025 =

### Bug Fixes

* Authentication: Changed access for setting an authentication error from protected to public. Allowing other authenticators to not fail when an error does occur.
* WP-CLI: When updating the plugin, we don't need to include the install class again.

### Improvements

* Database: Simply modified the structure for columns that were `BIGINT UNSIGNED` to `bigint(20) unsigned`.
* Session handler: Guest carts will now have a prefix `t_` before the cart key provided. This matches with WooCommerce session handler where it maybe used by 3rd party plugins or web host configurations to identify if the session is for a guest user.

> Dev note: This affects only new guest sessions.

### Compatibility

* Tested with WooCommerce v9.7

= v4.3.22 - 26th February, 2025 =

### Corrections

* REST API: Schema corrections for cart endpoint.
* REST API: Schema corrections for items endpoint to match cart schema.

### For Developers

* Moved filter `cocart_get_customer_{field}` after value instead of using it only when there is no value returned for a customers field. Replace `{field}` with the section prefix followed by the field name. e.g. `billing_country`

> Developer note: This allows you to then alter values such as the billing country. See example.

`
add_filter( 'cocart_get_customer_billing_country', function( $value ) {
	if ( WC()->countries->country_exists( $value ) ) {
		return WC()->countries->get_countries()[ $value ];
	}

	return $value;
}, 10, 1);
`

* Introduced new filter `cocart_get_after_customer_{field-type}_fields` that allows you to change the customer fields after they returned. Replace `{field-type}` with either `billing` or `shipping` for the fields to alter.

= v4.3.21 - 20th February, 2025 =

### Improvement

* REST API: Added `no-store` as part of the `Cache-Control` header for guest users.

= v4.3.20 - 8th February, 2025 =

### Bug Fix

* REST API: Fixed product reviews not returning.

= v4.3.19 - 6th February, 2025 =

### Bug Fix

* REST API: Fixed setting a customers shipping address line 1 and 2.

= v4.3.18 - 22nd January, 2025 =

### General

* Updated link to Next Changelog for coming future major release. (v5.0)
* Improved SASS to CSS conversion.

### Compatibility

* Tested with WooCommerce v9.6

= v4.3.17 - 14th January, 2025 =

### Bug Fix

* REST API: Stock status was incorrectly queried for Products API and now checks available stock statuses before filtering.

### Improvements

* REST API: Version of CoCart only returns in the returned headers when debug is enabled now.
* REST API: `WP_DEBUG` is made sure it is defined before returning extras for developers in the store response.

### Compatibility

* Tested with WooCommerce v9.5

[View the full changelog here](https://github.com/co-cart/co-cart/blob/trunk/CHANGELOG.md).

== Upgrade Notice ==

= 4.7.0 =

Added support for authenticating via JSON request body with clear indication for the login endpoint (API v2 ONLY).
